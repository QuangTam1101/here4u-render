<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calm Space - Kh√¥ng gian t√¢m l√Ω l√†nh m·∫°nh</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/mood-diary.css">
    <link rel="stylesheet" href="css/calmi-chat.css">
    <link rel="stylesheet" href="css/explore.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="css/settings.css">
    
    <!-- Google Sign-In -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="logo-section">
            <img src="images/avatar.jpg" alt="Calm Space Logo" class="logo">
            <h1 class="site-title">Calm Space</h1>
        </div>
        
        <div class="header-right">
            <button class="settings-btn" onclick="openSettings()">
                <i class="fas fa-cog"></i>
            </button>
            
            <div class="auth-buttons" id="authButtons">
                <button class="btn-login" onclick="showLoginModal()">ƒêƒÉng nh·∫≠p</button>
                <button class="btn-register" onclick="showLoginModal()">ƒêƒÉng k√Ω</button>
            </div>
            
            <div class="user-info" id="userInfo" style="display: none;">
                <img id="userAvatar" src="" alt="User Avatar" class="user-avatar">
                <span id="userName"></span>
            </div>
        </div>
    </header>

    <!-- Home Section (Before Login) -->
    <section id="homeSection" class="home-section active">
        <div class="hero-section">
            <div class="hero-content">
                <h2 class="hero-title">Ch√†o m·ª´ng ƒë·∫øn v·ªõi Calm Space</h2>
                <p class="hero-subtitle">Kh√¥ng gian an to√†n cho s·ª©c kh·ªèe t√¢m l√Ω c·ªßa b·∫°n</p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-book-open"></i>
                        <h3>Nh·∫≠t k√Ω t√¢m tr·∫°ng</h3>
                        <p>Theo d√µi v√† ph√¢n t√≠ch c·∫£m x√∫c h√†ng ng√†y c·ªßa b·∫°n</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-robot"></i>
                        <h3>Calmi AI</h3>
                        <p>Ng∆∞·ªùi b·∫°n AI lu√¥n s·∫µn s√†ng l·∫Øng nghe v√† h·ªó tr·ª£</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-compass"></i>
                        <h3>Kh√°m ph√°</h3>
                        <p>B√†i vi·∫øt, b√†i t·∫≠p v√† √¢m nh·∫°c th∆∞ gi√£n</p>
                    </div>
                </div>
                
                <button class="cta-button" onclick="showLoginModal()">
                    B·∫Øt ƒë·∫ßu h√†nh tr√¨nh
                </button>
            </div>
        </div>
    </section>

    <!-- Main App (After Login) -->
    <div id="mainApp" style="display: none;">
        <!-- Navigation -->
        <nav class="main-nav">
            <ul class="nav-list">
                <li class="nav-item" data-section="moodDiary">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Nh·∫≠t k√Ω t√¢m tr·∫°ng</span>
                </li>
                <li class="nav-item" data-section="calmiChat">
                    <i class="fas fa-comments"></i>
                    <span>Calmi AI</span>
                </li>
                <li class="nav-item" data-section="explore">
                    <i class="fas fa-compass"></i>
                    <span>Kh√°m ph√°</span>
                </li>
                <li class="nav-item" data-section="profile">
                    <i class="fas fa-user"></i>
                    <span>H·ªì s∆°</span>
                </li>
            </ul>
        </nav>

        <!-- Mood Diary Section -->
        <section id="moodDiary" class="app-section">
            <div class="section-header">
                <h2>Nh·∫≠t k√Ω t√¢m tr·∫°ng</h2>
            </div>
            
            <div class="mood-container">
                <div class="calendar-section">
                    <div id="calendar" class="calendar"></div>
                </div>
                
                <div class="mood-input-section">
                    <h3>H√¥m nay b·∫°n c·∫£m th·∫•y th·∫ø n√†o?</h3>
                    <div class="mood-emojis">
                        <button class="mood-btn" data-mood="1">üò¢</button>
                        <button class="mood-btn" data-mood="2">üòî</button>
                        <button class="mood-btn" data-mood="3">üòê</button>
                        <button class="mood-btn" data-mood="4">üôÇ</button>
                        <button class="mood-btn" data-mood="5">üòÑ</button>
                    </div>
                    
                    <textarea id="moodNote" placeholder="Chia s·∫ª th√™m v·ªÅ ng√†y h√¥m nay... (t√πy ch·ªçn)" class="mood-note"></textarea>
                    
                    <div class="mood-tags">
                        <h4>Ch·ªçn ch·ªß ƒë·ªÅ li√™n quan:</h4>
                        <div class="tags-container">
                            <button class="tag-btn" data-tag="family">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Gia ƒë√¨nh</button>
                            <button class="tag-btn" data-tag="friends">üë• B·∫°n b√®</button>
                            <button class="tag-btn" data-tag="work">üíº C√¥ng vi·ªác</button>
                            <button class="tag-btn" data-tag="study">üìö H·ªçc t·∫≠p</button>
                            <button class="tag-btn" data-tag="health">üí™ S·ª©c kh·ªèe</button>
                            <button class="tag-btn" data-tag="love">‚ù§Ô∏è T√¨nh y√™u</button>
                        </div>
                    </div>
                    
                    <button class="save-mood-btn" onclick="saveMood()">L∆∞u t√¢m tr·∫°ng</button>
                </div>
                
                <div class="mood-analytics">
                    <h3>Ph√¢n t√≠ch t√¢m tr·∫°ng tu·∫ßn qua</h3>
                    <canvas id="moodChart"></canvas>
                    <div id="topFactors" class="top-factors"></div>
                </div>
            </div>
        </section>

        <!-- Calmi Chat Section -->
        <section id="calmiChat" class="app-section" style="display: none;">
            <div class="chat-container">
                <div class="chat-header">
                    <div class="calmi-avatar">ü§ñ</div>
                    <div class="calmi-info">
                        <h3>Calmi</h3>
                        <span class="status">S·∫µn s√†ng l·∫Øng nghe b·∫°n</span>
                    </div>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <div class="message calmi-message">
                        <p>Xin ch√†o! M√¨nh l√† Calmi, ng∆∞·ªùi b·∫°n AI c·ªßa b·∫°n. B·∫°n c√≥ th·ªÉ chia s·∫ª v·ªõi m√¨nh b·∫•t c·ª© ƒëi·ªÅu g√¨. M√¨nh ·ªü ƒë√¢y ƒë·ªÉ l·∫Øng nghe v√† h·ªó tr·ª£ b·∫°n. üíô</p>
                    </div>
                </div>
                
                <div class="chat-input-container">
                    <textarea id="chatInput" placeholder="Nh·∫≠p tin nh·∫Øn..." class="chat-input"></textarea>
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Explore Section -->
        <section id="explore" class="app-section" style="display: none;">
            <div class="explore-container">
                <h2>Kh√°m ph√°</h2>
                
                <div class="explore-tabs">
                    <button class="tab-btn active" data-tab="articles">üìö B√†i vi·∫øt</button>
                    <button class="tab-btn" data-tab="exercises">üßò B√†i t·∫≠p</button>
                    <button class="tab-btn" data-tab="music">üéµ √Çm nh·∫°c</button>
                </div>
                
                <div class="tab-content" id="articlesTab">
                    <div class="articles-grid">
                        <article class="article-card">
                            <img src="https://picsum.photos/300/200?random=1" alt="Article">
                            <h3>5 c√°ch gi·∫£m stress hi·ªáu qu·∫£</h3>
                            <p>Kh√°m ph√° c√°c ph∆∞∆°ng ph√°p ƒë∆°n gi·∫£n gi√∫p b·∫°n gi·∫£m cƒÉng th·∫≥ng trong cu·ªôc s·ªëng h√†ng ng√†y.</p>
                            <a href="#" class="read-more">ƒê·ªçc th√™m ‚Üí</a>
                        </article>
                        
                        <article class="article-card">
                            <img src="https://picsum.photos/300/200?random=2" alt="Article">
                            <h3>Mindfulness cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu</h3>
                            <p>H∆∞·ªõng d·∫´n c∆° b·∫£n v·ªÅ ch√°nh ni·ªám v√† c√°ch √°p d·ª•ng v√†o cu·ªôc s·ªëng.</p>
                            <a href="#" class="read-more">ƒê·ªçc th√™m ‚Üí</a>
                        </article>
                    </div>
                </div>
                
                <div class="tab-content" id="exercisesTab" style="display: none;">
                    <div class="exercises-list">
                        <div class="exercise-card">
                            <i class="fas fa-lungs"></i>
                            <h3>B√†i t·∫≠p th·ªü 4-7-8</h3>
                            <p>K·ªπ thu·∫≠t th·ªü gi√∫p th∆∞ gi√£n v√† gi·∫£m lo √¢u</p>
                            <button class="start-btn">B·∫Øt ƒë·∫ßu</button>
                        </div>
                        
                        <div class="exercise-card">
                            <i class="fas fa-brain"></i>
                            <h3>Thi·ªÅn 5 ph√∫t</h3>
                            <p>Thi·ªÅn ng·∫Øn gi√∫p t·∫≠p trung v√† b√¨nh tƒ©nh</p>
                            <button class="start-btn">B·∫Øt ƒë·∫ßu</button>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="musicTab" style="display: none;">
                    <div class="music-list">
                        <div class="music-item">
                            <i class="fas fa-play-circle"></i>
                            <div class="music-info">
                                <h4>Ti·∫øng m∆∞a nh·∫π</h4>
                                <span>30 ph√∫t</span>
                            </div>
                        </div>
                        
                        <div class="music-item">
                            <i class="fas fa-play-circle"></i>
                            <div class="music-info">
                                <h4>S√≥ng bi·ªÉn √™m d·ªãu</h4>
                                <span>45 ph√∫t</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile" class="app-section" style="display: none;">
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar-container">
                        <img id="profileAvatar" src="" alt="Avatar" class="profile-avatar">
                        <button class="change-avatar-btn">
                            <i class="fas fa-camera"></i>
                        </button>
                    </div>
                    
                    <h2 id="profileName"></h2>
                    <p class="usage-days">
                        <i class="fas fa-calendar-check"></i>
                        ƒê√£ s·ª≠ d·ª•ng: <span id="usageDays">0</span> ng√†y
                    </p>
                </div>
                
                <div class="profile-stats">
                    <div class="stat-card">
                        <i class="fas fa-smile"></i>
                        <h3>T√¢m tr·∫°ng trung b√¨nh</h3>
                        <p id="avgMood">--</p>
                    </div>
                    
                    <div class="stat-card">
                        <i class="fas fa-fire"></i>
                        <h3>Chu·ªói ghi ch√©p</h3>
                        <p id="streak">0 ng√†y</p>
                    </div>
                    
                    <div class="stat-card">
                        <i class="fas fa-trophy"></i>
                        <h3>Th√†nh t·ª±u</h3>
                        <p id="achievements">0</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content settings-modal">
            <span class="close" onclick="closeSettings()">&times;</span>
            <h2>C√†i ƒë·∫∑t</h2>
            
            <div class="settings-group">
                <label>
                    <i class="fas fa-language"></i>
                    Ng√¥n ng·ªØ / Language
                </label>
                <select id="languageSelect" class="settings-select">
                    <option value="vi">Ti·∫øng Vi·ªát</option>
                    <option value="en">English</option>
                </select>
            </div>
            
            <div class="settings-group">
                <label>
                    <i class="fas fa-bell"></i>
                    Th√¥ng b√°o nh·∫Øc ghi t√¢m tr·∫°ng
                </label>
                <label class="switch">
                    <input type="checkbox" id="notificationToggle">
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-group" id="logoutGroup" style="display: none;">
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    ƒêƒÉng xu·∫•t
                </button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content login-modal">
            <span class="close" onclick="closeLoginModal()">&times;</span>
            <h2>Ch√†o m·ª´ng b·∫°n!</h2>
            <p>ƒêƒÉng nh·∫≠p ƒë·ªÉ b·∫Øt ƒë·∫ßu h√†nh tr√¨nh chƒÉm s√≥c s·ª©c kh·ªèe t√¢m l√Ω</p>
            
            <div id="g_id_onload"
                 data-client_id="65270854139-q7i8o813jc1iijqorhitmtkqm8b06gcj.apps.googleusercontent.com"
                 data-callback="handleCredentialResponse"
                 data-auto_prompt="false">
            </div>
            <div class="g_id_signin"
                 data-type="standard"
                 data-size="large"
                 data-theme="outline"
                 data-text="sign_in_with"
                 data-shape="rectangular"
                 data-logo_alignment="left">
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/mood-diary.js"></script>
    <script src="js/calmi-chat.js"></script>
    <script src="js/explore.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/settings.js"></script>
</body>
</html>
